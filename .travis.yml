language: node_js
node_js:
  - '10'
env:
  global:
    - DATA_BUCKET=send-that-invoice-data
    - MAIL_NAME='Josephine James'
    - MAIL_USER=davidj28827@gmail.com
    - MAIL_REPLY_TO=davidj28827@gmail.com
    - MAIL_HOST=smtp.gmail.com
    - MAIL_PORT=587
    - secure: 'FevQvOSSTO+yMvzr3usWtdDC2/oa2lerZpAYeZHLdSrH+AKnkT64k+/LmWegCBpZvAV9B9kPqWgChskDXSgTIXqsiyj+b/NdjapKCcn/POJfqSFpKwKEBVhVApsPMTLJVIPN3dk9BRYaxNzTHtVLUU7ntuN0xUHHovXtSxCA/ZDAl9p2jQOKmwiPr1+NmY0XODnSUMjdq73s0FtxLLTPkdhgVsUX5/K332hlrpjF2Veo8lBdiuVNnSBdctaiKA/M2J/2GLinci+VoMoI0N6/j3qVPz/lsQ/vs4jk/erc6dXU4SIMdQzFWeCykjowu2ujE52hMk2JG2/t7mdRSMebtnZ4ATUvHAk6CgCchxa3rm3qx2Lr6s1R7d9qY1oh8KKXUoiTgCRTf6GO6YPo+zfz1UyjEl6bVqWnHn1hZQ72MoA92zlhkqsLnUW1bRzG5llHhq8aWRT1Ud+LytBzNBo4rbrmrzzCIfO8o73JHGxEtnr8pPyoNnMyuQYbsAAKaMLwJwuO67yEMyFIKiFVk+R3DXBohgNcrna6bB57Z5L53oKPS7P/sYC4+ABQxhdB4/vlPPCH52sENcYcn0YtqMisyXK3/eNZybhLNQHYAY9R5dWtEelfdhBwvjCfyP2iUVNZGmVKmvnApea0XdAy2aydS2YAhqQAS4nuDLmaIT9F5UI='
    - secure: 'geSLQuXCpmHnAxGsMM7vvNVrzd2SQOcJ4XniXWVT6wvrN8WjzExdiv1+6CUp1PJBqIu6m4EtyRFvTdFb3dYBLTvmK/yCrpXnm3WPZIooysBmYLMgINKx8rFvJ6i0Itnti0d7PGB+RrBUz4VLZUk4WGDk9fG/FMkvfyD92raWduawHj9DDTAQPYCNQYy9bWZ3vXdF/WzhANZzFrn7mAjpBnEvTF+uiWwuX8n0IGjko8/N+sjvw7AnEuRUBARQmZY/IXwzQlvGqkZfyhU6BLjA9TjNmO5+2W2BDSVoRK8pE+HJYuYS3hcFY5CSJXxn/Stzuir+LAI7q6fG/f6ejL2iaNlCzbzhzqdJtL2+DWdC+ie/8NkragRg/MSycKzk3IyQeu6WF7JauJ0ZE87YpR/E9S7BRGpGizemtRSOgfoZfZmkqFqZ3/NNZU0QUPR9jPWrh1iFZAEbftu8lmhJhOylPlCwc6eREQTdg84tDwXCgyYr70FtlO2xJaY6CCNaXQcg+zZbJn3epIgEvungJvBUOSFiC4jG+SJDyAv/nJdcUCOEg7leb81kDd4QBAhpUJfEk48xdYRh1APy3RbI5c5pIajtPry2er4vYt4IPBQmQWOGVzeQh8lce1nI41cpMXY9Jd5xIKfkzym23pO3+UmcYBfNJMUC1wUzYDA+qXjpAl8='
    - secure: p3y8Qy0WftjANT+dq4bLGdKtCnIv8k7iVYY8DoUyMZf2IhejFy7TDi2BNKJulu5FgZ583KKpiptiqIJUal9t5WEokPvKfDCJBIWQTw1TCtamWI0EUplqnWCPfynwdKyVK4faCRJ7v0myznKxDlnPaNI03gPNBscLhOs8UhLfj8WV1cbo5vhsyqS722tA7VGA9Aj9KT3eh5nlreb3BqYscugj3X0Zfj2iEFfty5UEdsMXqCon3UHJY1/VmZacvi7d+XKVMJ7c5ALN1iOeobTDFRU0h1gBsBesXhEgtM8mUWRf8D1awj2iOxLTjBBmcS6S6Ygz3QqTv0tCQgvTI4zZ8Fh+AIAxydLHVmB1U9qbIQ05EbgyiXXqs0dt6WbAovROJqc+umoS/Vg8YySt7zoYR0EsY0REL5NsUUcvs8Bz5dnemi+p1MDb6jPjNxk0f3bbj7I7QPBOmEkWq6UrMZorHXWu7nUyY5nWWMQeeJl7ojBkPP43mwkGRG+2So4MFXWNxTJyE+//PgnWkhuSdCUJfM03B4w05gs9VSa9RTwM1cnPp0ji79gTPJBs3DSNXeje+1nLxpzTELDzh4PizUiBTvC9Rg1OafnDmv9jUXfnixU992mtnclgk8e4bWP82LXYT5GBVm7f1Hej+Ig47eWRpHe/hc0eWBIJ3dhGJ6BSsvs=
    - secure: 'Frz9TthgWrvTAGHDHanNWrlqce0WA94YD/JXfVeeKlqNcC3r4lkxnkUAiBoA1otjhGmCRgRLo1Cd3qKOaorOJENOXTAyieI7De6Irwj0dMwU51mONL2R2pK+gvHh6RK1NUe8EY7wjdxJu6OTg9mnMSdOYYYSpEud7U61edkbSYfuSwavUNK24uZRDVUvoakkRH8VOk1TE65b3LCV7fLEJk2QWh2gqyKUwJ3y8lJTVC2JI8ARL2liiurvfJ9zu2XtwUbPfuZPZddznzHPgASGBajGEwxodnkb5z6zZTeL+8zGa+ABTPmCOJDViX/F/DhY7S/GsT0nNmvhPJSBs9r/j+sk/YHbYSD8XrlA48W33IYm4uqTTH5/ea/0f1Dwakp+RDlkN6MbHLJVx9FM8SvS9Nn23DypZ7Y8zUzYIMZumeC3tqeiKficYezj3tR0c4ZbmB5BCz4SnZlOfYWqvhsBBg25x1Y5s0S+/5zLuvtO69WazVd3NjM5Y9vKKZZVhdvnZ3tzrUMjuA+bPV71bQrx6NeY2QrtnIJsrHFrmCmqlNi5yOFgPogWAdFp7aq++1SW9eOavArPzKgwcQhHLVTJjb5Mdz5KS9ObRp3Cy2gn+hEfrhIE4izEWghi9xbGONTJg26IUhlegscYVxdrN0DuByKDy8Q7eYKwBGETXkR14Ts='
    - secure: 'LcC+iBjKyJD/gLT/TScYCSjZUie2uC70kIdm2XFZ9reI9jnWfCF322kFLMkeCeHYyd/MupWzSpSEUAPDN0/majHVCcLKnxGccDWIolg6d/mpyuhGgrjvPZAK/xnMIxR+CZtPSF9a0XgJC75BReKznEXQY10H4eFbDMOE/ygooQgsGWMDgYJoC7pnpU+Y0NesaGU3VVQIEkR37D8L9st+Cqal13JK+FuC5HK4OgvgPSuMIv6W/AwhmylUITG8Hl5m6uW1hLPM1i3y6zgdmNGQOtoAmbZHeDLxB6fno0e2BAgiF29JBcryW1JDIKVoXAhCy5+U/menf3UAO8S/WuZeI6PpxqngVofJOtGm+/DLyFDNt6trEf6wQtudERHrCAK2CZbECmuye5NwajlBHsS2G9OrivTID2i8CRZTgmM/eO2lHyM0DIWZH4cPYSTiz6hKxR4hV+70oxXi9+AJhhkxWj8tW+5kaUrlOQ8V0pqMUaQs8fsJY7EMNOEaSJe6M4KZaYrI864NQ0kxksRbMubDCNt/jCiQkvueS2fT4nACmF5lQWl28mKdUj3oqGjwVO+tXb1TBau8NVZD3nX2GY1POoaZ7zPBAvDHtqF0Ak7UM63Xdnoijave+6Pqt++I5e+Aa4/GoS5ILOFn3sVhHQ0EJ3aaUZ9xEixP1oSV5EGIpWI='
    - secure: 'ZMCctE9SxE1GeEtHKXjeibQa3VwVtUESG55ss0TJyEtxAzd7I8O4jbNG3QzihVYaVgRxrMsbeq/yX1Yy/M+2tgtq0lj4dR17CQ/CiTy2XfnSw4xD4PjrmDTLTMYD2IMMtG97coLoXNoxMZeJOZ2a+NJeBoMVV4asKsd68+njPmvDFNmr8DFQ8RTfjbUPes7QaHhT30D+nCpWyg/nTTKXlLhd2JU7y5BCDRJxooRPXUcTnMSqHLyf9a5K2dsGOe9dAl367+eFe2G8u4j9O8NPLWZX441MUonCxW9RWAwiAJ3S6E3yM63f7QBs1y+5bYWojvGZY+TmlBw5U5pUgLO1vfxvYCRJ9PEuz6Al65xZUEmAUYeXe9SuQj8KqrDAFB3eWuGiCoajzAyCvo2Ll1qAZCSGZmxWPivV9V/ppxRiie4fRgHxjnnhjmpIEz9mmYpfhSs7WpvqjWRCjuYrlV76WwU/RS/LDIonSnxiVHpA00vlD6Ug6EwNoV9V4gPPWT8yO/aqNido4YQwq7ZAev9O6P1Dp3KR6imqkJs2IeDKV/rWlEMbmU4NSnTxS0kaMREbdregGFhUionQShHAd1bTYaykzdBX6BBSd5McXmZ4sv2Pfb7hODXCV/KssLagBLzvi53xy1IcEqqYENGaT/wa9BTAbtSkgRebS/yR5RkIUn8='

before_install:
  - npm install -g aws-cdk
install:
  - npm install
  - npm run pre-build
script:
  - cdk synth
deploy:
  - provider: script
    script:
      - cdk deploy --require-approval never
    skip_cleanup: true
    on:
      branch: master
